title: learn to understanding programming
date: 2016-11-03
tags: programming
categories:
---

## 编程的理解

封装、抽象、闭包
面向对象、 函数式 blabla

### 抽象层次
高阶函数提供比面向对象概念更高层次的抽象。可以用它们来更简洁清晰地表达想法。

从很大程度上来说，编程中的抽象的最终需求就是在不牺牲可读性或性能的前提下，用更少的代码提供更强大更灵活的功能。高阶函数是实现这些的一个重要概念。

lisp中有两种类型的高阶函数

lambda
```lisp
>(setf total '(lambda (a b) (+ a b)))
(LAMBDA (A B) (+ A B))
>total
(LAMBDA (A B) (+ A B))
>(apply total '(101 102))
203
```

macro
```lisp
>(defmacro times_two (x) (* 2 x))
TIMES_TWO
>(setf a 4)
4
>(times_two a)
8
```
这个示例应该分为两个阶段进行阅读。第一次赋值定义了宏 times_two。在第二个阶段（称为宏扩展）中，在对 a 求值之前，将 a 扩展为 (* 2 a)。该模板中这项延迟求值方式使宏的功能非常强大。Lisp 语言本身的许多功能都是基于宏的。


### 编程泛型


### 闭包

闭包是具有闭合作用域 的匿名函数。
闭包（Closure）是词法闭包（Lexical Closure）的简称，是引用了自由变量的函数。这个被引用的自由变量将和这个函数一同存在，即使已经离开了创造它的环境也不例外。
闭包过程不是保存整个过程的上下文，而仅仅复制需要闭包的变量到闭包的变量对象去，过程的上下文是被销毁掉的。

闭包可以用在许多地方。它的最大用处有两个，一个是：可以读取函数内部的变量，另一个就是让这些变量的值始终保持在内存中。
