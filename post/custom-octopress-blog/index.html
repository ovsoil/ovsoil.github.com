<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>Octopress个性化配置 - Ovsoil&#39;s Blog - Learn，Write，Share</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="olOwOlo" /><meta name="description" content="zsh: no matches found: new_post[&amp;hellip;] 原因是zsh解释[]字符的问题。可以使用转义符来解决这一问题，避免麻烦的话，在~/.zshrc中加入：
1  alias rake=&amp;#34;noglob rake&amp;#34;   中文title 为方便直接使用中文作为博客的标题，仿照new_post，建一个自己的任务post，包含两个参数，一个作为文件名，一个作为中文标题。 在Rakefile末尾增加如下代码：
1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22  desc &amp;#34;Begin a new post in #{source_dir}/#{posts_dir}with Alias&amp;#34; task :post, :title, :title_alias do |t, args| raise &amp;#34;### You haven&amp;#39;t set anything up yet. First run `rake install` to set up an Octopress theme.&amp;#34; unless File.directory?(source_dir) mkdir_p &amp;#34;#{source_dir}/#{posts_dir}&amp;#34; args.with_defaults(:title =&amp;gt; &amp;#39;new-post&amp;#39;) title = args.title title_alias = args.title_alias filename = &amp;#34;#{source_dir}/#{posts_dir}/#{Time.now.strftime(&amp;#39;%Y-%m-%d&amp;#39;)}-#{title.to_url}.#{new_post_ext}&amp;#34; if File.exist?(filename) abort(&amp;#34;rake aborted!&amp;#34;) if ask(&amp;#34;#{filename}already exists. Do you want to overwrite?&amp;#34;, [&amp;#39;y&amp;#39;, &amp;#39;n&amp;#39;]) == &amp;#39;n&amp;#39; end puts &amp;#34;Creating new post: #{filename}&amp;#34; open(filename, &amp;#39;w&amp;#39;) do |post| post.puts &amp;#34;---&amp;#34; post.puts &amp;#34;layout: post&amp;#34; post.puts &amp;#34;title: \&amp;#34;#{title_alias}\&amp;#34;&amp;#34; post.puts &amp;#34;date: #{Time.now.strftime(&amp;#39;%Y-%m-%d %H:%M&amp;#39;)}&amp;#34; post.puts &amp;#34;comments: true&amp;#34; post.puts &amp;#34;categories: &amp;#34; post.puts &amp;#34;---&amp;#34; end end   使用：
1  rake post[&amp;#34;How to create octopress blog&amp;#34;,&amp;#34;如何建立Octopress博客&amp;#34;]   设置使用指定的编辑器自动打开新建的blog 每次用rake　new_post新建blog后都要手动打开编辑，果断google一下
在Rakefile中，找到## &amp;ndash; Misc Configs &amp;ndash; ##这段注释，然后在server_port下面加入editor = &amp;ldquo;open&amp;rdquo; 然后再找到new_post命令，在末尾加入如下代码：
1 2 3  if #{editor} system &amp;#34;#{editor}#{filename}&amp;#34; end   字体 Octopresss默认使用的是 google webfonts，遗憾的是在天朝不好用，而且它没有中文字体，所以你用粗体，没有效果。 所以，将source/_includes/custom/head.html中的两行代码注释掉，省去了加载字体，加快网页加载速度。
&amp;lt;!--Fonts from Google&amp;quot;s Web font directory at http://google.com/webfonts --&amp;gt; &amp;lt;!-- &amp;lt;link href=&amp;quot;http://fonts.googleapis.com/css?family=PT&#43;Serif:regular,italic,bold,bolditalic&amp;quot; rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot;&amp;gt; --&amp;gt; &amp;lt;!-- &amp;lt;link href=&amp;quot;http://fonts.googleapis.com/css?family=PT&#43;Sans:regular,italic,bold,bolditalic&amp;quot; rel=&amp;quot;stylesheet&amp;quot; type=&amp;quot;text/css&amp;quot;&amp;gt; --&amp;gt;  参考最佳Web中文默认字体，在sass/custom/_fonts.scss 中添加如下三行代码：
$heading-font-family: arial, sans-serif; $header-title-font-family: arial, sans-serif; $header-subtitle-font-family: arial, sans-serif;  刷新网页，可以看见中文的粗体变黑了。
语法高亮 pygnment ``` [language] [title] [url] [link text] code snippet ``` [language] - Used by the syntax highlighter. Passing &#39;plain&#39; disables highlighting. (Supported languages.) [title] - Add a figcaption to your code block. [url] - Download or reference link for your code. [Link text] - Text for the link, defaults to &#39;link&#39;.  Gist代码内嵌 当使用这种方式的代码高亮时，仅仅需要的是gist的id，个人的理解gist是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。 语法
{ % gist gist_id [filename] %}  example
{ % gist 996818 %}  如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：
{ % gist 1059334 svg_bullets.rb %} { % gist 1059334 usage.scss %}  总体来说，gist代码高亮是很简单的，只是需要将代码上传到gist，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。
使用Code Block的方式 目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和pygnment的方式差不多，之前全部采用的是pygnment的方式，利用正则表达式把所有文章的代码高亮全部改成了使用code block。它的具体语法如下所示：（与pygnment很相似，指定语言即可）
{ % codeblock [title] [lang:language] [url] [link text] %} code snippet { % endcodeblock %}  和之前描述的类似，中括号的内容是可选的。
只显示摘要 如果希望在首页每篇博文只显示一部分内容，例如摘要。可以在你的markdown文件中插入：`
" /><meta name="keywords" content="Hugo, theme, even" />






<meta name="generator" content="Hugo 0.69.0 with theme even" />


<link rel="canonical" href="http://localhost:1313/post/custom-octopress-blog/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.c7bc1becf36bcf6a9ebd25d2947e43a2eb745ddb0c9a32b43126fd7fa460c351.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="Octopress个性化配置" />
<meta property="og:description" content="zsh: no matches found: new_post[&hellip;]
原因是zsh解释[]字符的问题。可以使用转义符来解决这一问题，避免麻烦的话，在~/.zshrc中加入：


1


    alias rake=&#34;noglob rake&#34;


中文title
为方便直接使用中文作为博客的标题，仿照new_post，建一个自己的任务post，包含两个参数，一个作为文件名，一个作为中文标题。
在Rakefile末尾增加如下代码：


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22


    desc &#34;Begin a new post in #{source_dir}/#{posts_dir} with Alias&#34;
    task :post, :title, :title_alias do |t, args|
      raise &#34;### You haven&#39;t set anything up yet. First run `rake install` to set up an Octopress theme.&#34; unless File.directory?(source_dir)
      mkdir_p &#34;#{source_dir}/#{posts_dir}&#34;
      args.with_defaults(:title =&gt; &#39;new-post&#39;)
      title = args.title
      title_alias = args.title_alias
      filename = &#34;#{source_dir}/#{posts_dir}/#{Time.now.strftime(&#39;%Y-%m-%d&#39;)}-#{title.to_url}.#{new_post_ext}&#34;
      if File.exist?(filename)
        abort(&#34;rake aborted!&#34;) if ask(&#34;#{filename} already exists. Do you want to overwrite?&#34;, [&#39;y&#39;, &#39;n&#39;]) == &#39;n&#39;
      end
      puts &#34;Creating new post: #{filename}&#34;
      open(filename, &#39;w&#39;) do |post|
        post.puts &#34;---&#34;
        post.puts &#34;layout: post&#34;
        post.puts &#34;title: \&#34;#{title_alias}\&#34;&#34;
        post.puts &#34;date: #{Time.now.strftime(&#39;%Y-%m-%d %H:%M&#39;)}&#34;
        post.puts &#34;comments: true&#34;
        post.puts &#34;categories: &#34;
        post.puts &#34;---&#34;
      end
    end


使用：


1


    rake post[&#34;How to create octopress blog&#34;,&#34;如何建立Octopress博客&#34;]


设置使用指定的编辑器自动打开新建的blog
每次用rake　new_post新建blog后都要手动打开编辑，果断google一下
在Rakefile中，找到## &ndash; Misc Configs &ndash; ##这段注释，然后在server_port下面加入editor = &ldquo;open&rdquo;
然后再找到new_post命令，在末尾加入如下代码：


1
2
3


    if #{editor}
    system &#34;#{editor} #{filename}&#34;
    end


字体
Octopresss默认使用的是 google webfonts，遗憾的是在天朝不好用，而且它没有中文字体，所以你用粗体，没有效果。
所以，将source/_includes/custom/head.html中的两行代码注释掉，省去了加载字体，加快网页加载速度。
&lt;!--Fonts from Google&quot;s Web font directory at http://google.com/webfonts --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Serif:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Sans:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;

参考最佳Web中文默认字体，在sass/custom/_fonts.scss 中添加如下三行代码：
$heading-font-family: arial, sans-serif;
$header-title-font-family: arial, sans-serif;
$header-subtitle-font-family: arial, sans-serif;

刷新网页，可以看见中文的粗体变黑了。
语法高亮
pygnment
``` [language] [title] [url] [link text]
    code snippet
```
[language] - Used by the syntax highlighter. Passing &#39;plain&#39; disables highlighting. (Supported languages.)
[title] - Add a figcaption to your code block.
[url] - Download or reference link for your code.
[Link text] - Text for the link, defaults to &#39;link&#39;.

Gist代码内嵌
当使用这种方式的代码高亮时，仅仅需要的是gist的id，个人的理解gist是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。
语法
{ % gist gist_id [filename] %}

example
{ % gist 996818 %}

如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：
{ % gist 1059334 svg_bullets.rb %}
{ % gist 1059334 usage.scss %}

总体来说，gist代码高亮是很简单的，只是需要将代码上传到gist，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。
使用Code Block的方式
目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和pygnment的方式差不多，之前全部采用的是pygnment的方式，利用正则表达式把所有文章的代码高亮全部改成了使用code block。它的具体语法如下所示：（与pygnment很相似，指定语言即可）
{ % codeblock [title] [lang:language] [url] [link text] %}
code snippet
{ % endcodeblock %}

和之前描述的类似，中括号的内容是可选的。
只显示摘要
如果希望在首页每篇博文只显示一部分内容，例如摘要。可以在你的markdown文件中插入：`" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://localhost:1313/post/custom-octopress-blog/" />
<meta property="article:published_time" content="2015-03-20T00:00:00+00:00" />

<meta itemprop="name" content="Octopress个性化配置">
<meta itemprop="description" content="zsh: no matches found: new_post[&hellip;]
原因是zsh解释[]字符的问题。可以使用转义符来解决这一问题，避免麻烦的话，在~/.zshrc中加入：


1


    alias rake=&#34;noglob rake&#34;


中文title
为方便直接使用中文作为博客的标题，仿照new_post，建一个自己的任务post，包含两个参数，一个作为文件名，一个作为中文标题。
在Rakefile末尾增加如下代码：


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22


    desc &#34;Begin a new post in #{source_dir}/#{posts_dir} with Alias&#34;
    task :post, :title, :title_alias do |t, args|
      raise &#34;### You haven&#39;t set anything up yet. First run `rake install` to set up an Octopress theme.&#34; unless File.directory?(source_dir)
      mkdir_p &#34;#{source_dir}/#{posts_dir}&#34;
      args.with_defaults(:title =&gt; &#39;new-post&#39;)
      title = args.title
      title_alias = args.title_alias
      filename = &#34;#{source_dir}/#{posts_dir}/#{Time.now.strftime(&#39;%Y-%m-%d&#39;)}-#{title.to_url}.#{new_post_ext}&#34;
      if File.exist?(filename)
        abort(&#34;rake aborted!&#34;) if ask(&#34;#{filename} already exists. Do you want to overwrite?&#34;, [&#39;y&#39;, &#39;n&#39;]) == &#39;n&#39;
      end
      puts &#34;Creating new post: #{filename}&#34;
      open(filename, &#39;w&#39;) do |post|
        post.puts &#34;---&#34;
        post.puts &#34;layout: post&#34;
        post.puts &#34;title: \&#34;#{title_alias}\&#34;&#34;
        post.puts &#34;date: #{Time.now.strftime(&#39;%Y-%m-%d %H:%M&#39;)}&#34;
        post.puts &#34;comments: true&#34;
        post.puts &#34;categories: &#34;
        post.puts &#34;---&#34;
      end
    end


使用：


1


    rake post[&#34;How to create octopress blog&#34;,&#34;如何建立Octopress博客&#34;]


设置使用指定的编辑器自动打开新建的blog
每次用rake　new_post新建blog后都要手动打开编辑，果断google一下
在Rakefile中，找到## &ndash; Misc Configs &ndash; ##这段注释，然后在server_port下面加入editor = &ldquo;open&rdquo;
然后再找到new_post命令，在末尾加入如下代码：


1
2
3


    if #{editor}
    system &#34;#{editor} #{filename}&#34;
    end


字体
Octopresss默认使用的是 google webfonts，遗憾的是在天朝不好用，而且它没有中文字体，所以你用粗体，没有效果。
所以，将source/_includes/custom/head.html中的两行代码注释掉，省去了加载字体，加快网页加载速度。
&lt;!--Fonts from Google&quot;s Web font directory at http://google.com/webfonts --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Serif:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Sans:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;

参考最佳Web中文默认字体，在sass/custom/_fonts.scss 中添加如下三行代码：
$heading-font-family: arial, sans-serif;
$header-title-font-family: arial, sans-serif;
$header-subtitle-font-family: arial, sans-serif;

刷新网页，可以看见中文的粗体变黑了。
语法高亮
pygnment
``` [language] [title] [url] [link text]
    code snippet
```
[language] - Used by the syntax highlighter. Passing &#39;plain&#39; disables highlighting. (Supported languages.)
[title] - Add a figcaption to your code block.
[url] - Download or reference link for your code.
[Link text] - Text for the link, defaults to &#39;link&#39;.

Gist代码内嵌
当使用这种方式的代码高亮时，仅仅需要的是gist的id，个人的理解gist是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。
语法
{ % gist gist_id [filename] %}

example
{ % gist 996818 %}

如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：
{ % gist 1059334 svg_bullets.rb %}
{ % gist 1059334 usage.scss %}

总体来说，gist代码高亮是很简单的，只是需要将代码上传到gist，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。
使用Code Block的方式
目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和pygnment的方式差不多，之前全部采用的是pygnment的方式，利用正则表达式把所有文章的代码高亮全部改成了使用code block。它的具体语法如下所示：（与pygnment很相似，指定语言即可）
{ % codeblock [title] [lang:language] [url] [link text] %}
code snippet
{ % endcodeblock %}

和之前描述的类似，中括号的内容是可选的。
只显示摘要
如果希望在首页每篇博文只显示一部分内容，例如摘要。可以在你的markdown文件中插入：`">

<meta itemprop="wordCount" content="3169">



<meta itemprop="keywords" content="" /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Octopress个性化配置"/>
<meta name="twitter:description" content="zsh: no matches found: new_post[&hellip;]
原因是zsh解释[]字符的问题。可以使用转义符来解决这一问题，避免麻烦的话，在~/.zshrc中加入：


1


    alias rake=&#34;noglob rake&#34;


中文title
为方便直接使用中文作为博客的标题，仿照new_post，建一个自己的任务post，包含两个参数，一个作为文件名，一个作为中文标题。
在Rakefile末尾增加如下代码：


 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22


    desc &#34;Begin a new post in #{source_dir}/#{posts_dir} with Alias&#34;
    task :post, :title, :title_alias do |t, args|
      raise &#34;### You haven&#39;t set anything up yet. First run `rake install` to set up an Octopress theme.&#34; unless File.directory?(source_dir)
      mkdir_p &#34;#{source_dir}/#{posts_dir}&#34;
      args.with_defaults(:title =&gt; &#39;new-post&#39;)
      title = args.title
      title_alias = args.title_alias
      filename = &#34;#{source_dir}/#{posts_dir}/#{Time.now.strftime(&#39;%Y-%m-%d&#39;)}-#{title.to_url}.#{new_post_ext}&#34;
      if File.exist?(filename)
        abort(&#34;rake aborted!&#34;) if ask(&#34;#{filename} already exists. Do you want to overwrite?&#34;, [&#39;y&#39;, &#39;n&#39;]) == &#39;n&#39;
      end
      puts &#34;Creating new post: #{filename}&#34;
      open(filename, &#39;w&#39;) do |post|
        post.puts &#34;---&#34;
        post.puts &#34;layout: post&#34;
        post.puts &#34;title: \&#34;#{title_alias}\&#34;&#34;
        post.puts &#34;date: #{Time.now.strftime(&#39;%Y-%m-%d %H:%M&#39;)}&#34;
        post.puts &#34;comments: true&#34;
        post.puts &#34;categories: &#34;
        post.puts &#34;---&#34;
      end
    end


使用：


1


    rake post[&#34;How to create octopress blog&#34;,&#34;如何建立Octopress博客&#34;]


设置使用指定的编辑器自动打开新建的blog
每次用rake　new_post新建blog后都要手动打开编辑，果断google一下
在Rakefile中，找到## &ndash; Misc Configs &ndash; ##这段注释，然后在server_port下面加入editor = &ldquo;open&rdquo;
然后再找到new_post命令，在末尾加入如下代码：


1
2
3


    if #{editor}
    system &#34;#{editor} #{filename}&#34;
    end


字体
Octopresss默认使用的是 google webfonts，遗憾的是在天朝不好用，而且它没有中文字体，所以你用粗体，没有效果。
所以，将source/_includes/custom/head.html中的两行代码注释掉，省去了加载字体，加快网页加载速度。
&lt;!--Fonts from Google&quot;s Web font directory at http://google.com/webfonts --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Serif:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT&#43;Sans:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;

参考最佳Web中文默认字体，在sass/custom/_fonts.scss 中添加如下三行代码：
$heading-font-family: arial, sans-serif;
$header-title-font-family: arial, sans-serif;
$header-subtitle-font-family: arial, sans-serif;

刷新网页，可以看见中文的粗体变黑了。
语法高亮
pygnment
``` [language] [title] [url] [link text]
    code snippet
```
[language] - Used by the syntax highlighter. Passing &#39;plain&#39; disables highlighting. (Supported languages.)
[title] - Add a figcaption to your code block.
[url] - Download or reference link for your code.
[Link text] - Text for the link, defaults to &#39;link&#39;.

Gist代码内嵌
当使用这种方式的代码高亮时，仅仅需要的是gist的id，个人的理解gist是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。
语法
{ % gist gist_id [filename] %}

example
{ % gist 996818 %}

如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：
{ % gist 1059334 svg_bullets.rb %}
{ % gist 1059334 usage.scss %}

总体来说，gist代码高亮是很简单的，只是需要将代码上传到gist，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。
使用Code Block的方式
目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和pygnment的方式差不多，之前全部采用的是pygnment的方式，利用正则表达式把所有文章的代码高亮全部改成了使用code block。它的具体语法如下所示：（与pygnment很相似，指定语言即可）
{ % codeblock [title] [lang:language] [url] [link text] %}
code snippet
{ % endcodeblock %}

和之前描述的类似，中括号的内容是可选的。
只显示摘要
如果希望在首页每篇博文只显示一部分内容，例如摘要。可以在你的markdown文件中插入：`"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">鱼花生</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">鱼花生</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">Octopress个性化配置</h1>

      <div class="post-meta">
        <span class="post-time"> 2015-03-20 </span>
        
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">Contents</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li>
          <ul>
            <li><a href="#zsh-no-matches-found-new_post">zsh: no matches found: new_post[&hellip;]</a></li>
            <li><a href="#中文title">中文title</a></li>
            <li><a href="#设置使用指定的编辑器自动打开新建的blog">设置使用指定的编辑器自动打开新建的blog</a></li>
            <li><a href="#字体">字体</a></li>
            <li><a href="#语法高亮">语法高亮</a></li>
            <li><a href="#只显示摘要">只显示摘要</a></li>
            <li><a href="#主题">主题</a></li>
            <li><a href="#导航栏">导航栏</a></li>
            <li><a href="#边栏">边栏</a></li>
            <li><a href="#分享">分享</a></li>
            <li><a href="#评论">评论</a></li>
            <li><a href="#插件">插件</a></li>
            <li><a href="#添加统计代码">添加统计代码</a></li>
            <li><a href="#在新电脑上恢复">在新电脑上恢复</a></li>
            <li><a href="#参考">参考</a></li>
          </ul>
        </li>
      </ul>
    </li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <h3 id="zsh-no-matches-found-new_post">zsh: no matches found: new_post[&hellip;]</h3>
<p>原因是zsh解释[]字符的问题。可以使用转义符来解决这一问题，避免麻烦的话，在~/.zshrc中加入：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">    <span class="nb">alias</span> <span class="nv">rake</span><span class="o">=</span><span class="s2">&#34;noglob rake&#34;</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="中文title">中文title</h3>
<p>为方便直接使用中文作为博客的标题，仿照new_post，建一个自己的任务post，包含两个参数，一个作为文件名，一个作为中文标题。
在Rakefile末尾增加如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span><span class="lnt">18
</span><span class="lnt">19
</span><span class="lnt">20
</span><span class="lnt">21
</span><span class="lnt">22
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby">    <span class="n">desc</span> <span class="s2">&#34;Begin a new post in </span><span class="si">#{</span><span class="n">source_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">posts_dir</span><span class="si">}</span><span class="s2"> with Alias&#34;</span>
    <span class="n">task</span> <span class="ss">:post</span><span class="p">,</span> <span class="ss">:title</span><span class="p">,</span> <span class="ss">:title_alias</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="p">,</span> <span class="n">args</span><span class="o">|</span>
      <span class="k">raise</span> <span class="s2">&#34;### You haven&#39;t set anything up yet. First run `rake install` to set up an Octopress theme.&#34;</span> <span class="k">unless</span> <span class="no">File</span><span class="o">.</span><span class="n">directory?</span><span class="p">(</span><span class="n">source_dir</span><span class="p">)</span>
      <span class="n">mkdir_p</span> <span class="s2">&#34;</span><span class="si">#{</span><span class="n">source_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">posts_dir</span><span class="si">}</span><span class="s2">&#34;</span>
      <span class="n">args</span><span class="o">.</span><span class="n">with_defaults</span><span class="p">(</span><span class="ss">:title</span> <span class="o">=&gt;</span> <span class="s1">&#39;new-post&#39;</span><span class="p">)</span>
      <span class="n">title</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">title</span>
      <span class="n">title_alias</span> <span class="o">=</span> <span class="n">args</span><span class="o">.</span><span class="n">title_alias</span>
      <span class="n">filename</span> <span class="o">=</span> <span class="s2">&#34;</span><span class="si">#{</span><span class="n">source_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="n">posts_dir</span><span class="si">}</span><span class="s2">/</span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">-</span><span class="si">#{</span><span class="n">title</span><span class="o">.</span><span class="n">to_url</span><span class="si">}</span><span class="s2">.</span><span class="si">#{</span><span class="n">new_post_ext</span><span class="si">}</span><span class="s2">&#34;</span>
      <span class="k">if</span> <span class="no">File</span><span class="o">.</span><span class="n">exist?</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
        <span class="nb">abort</span><span class="p">(</span><span class="s2">&#34;rake aborted!&#34;</span><span class="p">)</span> <span class="k">if</span> <span class="n">ask</span><span class="p">(</span><span class="s2">&#34;</span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> already exists. Do you want to overwrite?&#34;</span><span class="p">,</span> <span class="o">[</span><span class="s1">&#39;y&#39;</span><span class="p">,</span> <span class="s1">&#39;n&#39;</span><span class="o">]</span><span class="p">)</span> <span class="o">==</span> <span class="s1">&#39;n&#39;</span>
      <span class="k">end</span>
      <span class="nb">puts</span> <span class="s2">&#34;Creating new post: </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#34;</span>
      <span class="nb">open</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="s1">&#39;w&#39;</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;---&#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;layout: post&#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;title: </span><span class="se">\&#34;</span><span class="si">#{</span><span class="n">title_alias</span><span class="si">}</span><span class="se">\&#34;</span><span class="s2">&#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;date: </span><span class="si">#{</span><span class="no">Time</span><span class="o">.</span><span class="n">now</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-%d %H:%M&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">&#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;comments: true&#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;categories: &#34;</span>
        <span class="n">post</span><span class="o">.</span><span class="n">puts</span> <span class="s2">&#34;---&#34;</span>
      <span class="k">end</span>
    <span class="k">end</span>
</code></pre></td></tr></table>
</div>
</div><p>使用：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">    rake post[&#34;How to create octopress blog&#34;,&#34;如何建立Octopress博客&#34;]
</code></pre></td></tr></table>
</div>
</div><h3 id="设置使用指定的编辑器自动打开新建的blog">设置使用指定的编辑器自动打开新建的blog</h3>
<p>每次用<code>rake　new_post</code>新建blog后都要手动打开编辑，果断google一下</p>
<p>在Rakefile中，找到## &ndash; Misc Configs &ndash; ##这段注释，然后在server_port下面加入editor = &ldquo;open&rdquo;
然后再找到new_post命令，在末尾加入如下代码：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-ruby" data-lang="ruby">    <span class="k">if</span> <span class="c1">#{editor}</span>
    <span class="nb">system</span> <span class="s2">&#34;</span><span class="si">#{</span><span class="n">editor</span><span class="si">}</span><span class="s2"> </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2">&#34;</span>
    <span class="k">end</span>
</code></pre></td></tr></table>
</div>
</div><h3 id="字体">字体</h3>
<p>Octopresss默认使用的是 google webfonts，遗憾的是在天朝不好用，而且它没有中文字体，所以你用粗体，没有效果。
所以，将source/_includes/custom/head.html中的两行代码注释掉，省去了加载字体，加快网页加载速度。</p>
<pre><code>&lt;!--Fonts from Google&quot;s Web font directory at http://google.com/webfonts --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;
&lt;!-- &lt;link href=&quot;http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic&quot; rel=&quot;stylesheet&quot; type=&quot;text/css&quot;&gt; --&gt;
</code></pre>
<p>参考<a href="http://lifesinger.wordpress.com/2011/04/06/best-web-default-fonts/">最佳Web中文默认字体</a>，在sass/custom/_fonts.scss 中添加如下三行代码：</p>
<pre><code>$heading-font-family: arial, sans-serif;
$header-title-font-family: arial, sans-serif;
$header-subtitle-font-family: arial, sans-serif;
</code></pre>
<p>刷新网页，可以看见中文的粗体变黑了。</p>
<h3 id="语法高亮">语法高亮</h3>
<h4 id="pygnment">pygnment</h4>
<pre><code>``` [language] [title] [url] [link text]
    code snippet
```
[language] - Used by the syntax highlighter. Passing 'plain' disables highlighting. (Supported languages.)
[title] - Add a figcaption to your code block.
[url] - Download or reference link for your code.
[Link text] - Text for the link, defaults to 'link'.
</code></pre>
<h4 id="gist代码内嵌">Gist代码内嵌</h4>
<p>当使用这种方式的代码高亮时，仅仅需要的是gist的id，个人的理解gist是，gist对每段用户上传的代码段都会有一个对应的id，当用户给出对应的代码的id后，将会从gist上面下载对应的已经高亮的html文件，最终在用户的页面上显示出来。
语法</p>
<pre><code>{ % gist gist_id [filename] %}
</code></pre>
<p>example</p>
<pre><code>{ % gist 996818 %}
</code></pre>
<p>如果一个gist的id对应有多个文件，这时需要对想要高亮的文件添加文件名，具体语法如下所示：</p>
<pre><code>{ % gist 1059334 svg_bullets.rb %}
{ % gist 1059334 usage.scss %}
</code></pre>
<p>总体来说，gist代码高亮是很简单的，只是需要将代码上传到gist，然后获取相应的id然后按照上面的语法进行设置即可。只是每次在写博客时，都需要对博客文章中的代码拷贝到网址上生成，在没有网时，代码高亮比较麻烦。</p>
<h4 id="使用code-block的方式">使用Code Block的方式</h4>
<p>目前自己的博客这种方式用的比较多，前面写的文章目前全部修改成为了这种方式，感觉这种方式和pygnment的方式差不多，之前全部采用的是pygnment的方式，利用正则表达式把所有文章的代码高亮全部改成了使用code block。它的具体语法如下所示：（与pygnment很相似，指定语言即可）</p>
<pre><code>{ % codeblock [title] [lang:language] [url] [link text] %}
code snippet
{ % endcodeblock %}
</code></pre>
<p>和之前描述的类似，中括号的内容是可选的。</p>
<h3 id="只显示摘要">只显示摘要</h3>
<p>如果希望在首页每篇博文只显示一部分内容，例如摘要。可以在你的markdown文件中插入：`</p>
<p><code>，在这之前的作为摘要显示。 在_config.yml文件中修改</code>excerpt_link<code>的值</code>Read on<code>为以你想要的，比如</code>more`。</p>
<h3 id="主题">主题</h3>
<h3 id="导航栏">导航栏</h3>
<h3 id="边栏">边栏</h3>
<h4 id="分类">分类</h4>
<p>使用第三方插件 octopress-tagcloud 。</p>
<h4 id="友情链接">友情链接</h4>
<p>在 source_includes\custom\asides 目录下添加一个blogroll.html文件，模仿about.html，添加一些友情链接，例如：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span><span class="lnt">15
</span><span class="lnt">16
</span><span class="lnt">17
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">    <span class="p">&lt;</span><span class="nt">section</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;</span>友情链接<span class="p">&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">ul</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://coolshell.cn/&#34;</span><span class="p">&gt;</span>酷壳CoolShell<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://mindhacks.cn/&#34;</span><span class="p">&gt;</span>刘未鹏MIND HACKS<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://blog.codingnow.com/&#34;</span><span class="p">&gt;</span>云风<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;</span>
          <span class="p">&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&#34;http://www.cnblogs.com/Solstice/&#34;</span><span class="p">&gt;</span>陈硕<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">section</span><span class="p">&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>然后在 _config.yml 文件中，在 default_asides 的数组中添加 custom/asides/blogroll.html</p>
<h3 id="分享">分享</h3>
<p>使用<a href="http://www.addthis.com">addthis.com</a>的分享按钮，在网站上获取代码，粘贴到 source/_includes/post/sharing.html 中，例如我的代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;sharing&#34;</span><span class="p">&gt;</span>
      <span class="c">&lt;!-- AddThis Button BEGIN --&gt;</span>
      <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_toolbox addthis_default_style addthis_32x32_style&#34;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_sinaweibo&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_facebook&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_twitter&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_google_plusone_share&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_delicious&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_digg&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_reddit&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_button_compact&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;addthis_counter addthis_bubble_style&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;</span>
      <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
      <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span> <span class="na">src</span><span class="o">=</span><span class="s">&#34;//s7.addthis.com/js/300/addthis_widget.js#pubid=undefined&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
      <span class="c">&lt;!-- AddThis Button END --&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>在_config.yml 中，将twitter, google+ 和facebook like的按钮设置为false，取消显示，因为 AddThis 已经集成了这三者。</p>
<h3 id="评论">评论</h3>
<h4 id="disqus">Disqus</h4>
<p>octopress已为我们配置好了Disqus，我们只需要稍微填写以下信息即可。</p>
<ol>
<li>
<p>首先在Disqus 注册一个帐号，点击添加到我的网页，添加站点信息，比如我的ovsoil.github.io</p>
</li>
<li>
<p>修改_config.yml文件，找到这一段：</p>
<pre><code> # Disqus Comments 
 disqus_short_name: 
 disqus_show_comment_count: false
</code></pre>
</li>
</ol>
<p>添加你的disqus用户名，并把false修改成true即可。注意冒号后面有空格。</p>
<h4 id="多说">多说</h4>
<p>Disqus在国外流行，在国内的加载速度太慢，而且只有twitter, facebook, g+。其实这些都不是问题，问题是我这英语，还是不喝外国人交流了，所以替换成国内的<a href="">多说</a> 。
参考<a href="">Octopress 添加多说评论系统</a> 。
source/_includes/post/duoshuo_thread.html 的代码略有不同，添加了 data-title=&quot;我的Octopress配置&rdquo; ，否则侧边栏的最近评论，标题为空白，代码如下：</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt"> 1
</span><span class="lnt"> 2
</span><span class="lnt"> 3
</span><span class="lnt"> 4
</span><span class="lnt"> 5
</span><span class="lnt"> 6
</span><span class="lnt"> 7
</span><span class="lnt"> 8
</span><span class="lnt"> 9
</span><span class="lnt">10
</span><span class="lnt">11
</span><span class="lnt">12
</span><span class="lnt">13
</span><span class="lnt">14
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-html" data-lang="html">    <span class="c">&lt;!-- Duoshuo Comment BEGIN --&gt;</span>
    <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;ds-thread&#34;</span> <span class="na">data-title</span><span class="o">=</span><span class="s">&#34;我的Octopress配置&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">script</span> <span class="na">type</span><span class="o">=</span><span class="s">&#34;text/javascript&#34;</span><span class="p">&gt;</span>
    <span class="kd">var</span> <span class="nx">duoshuoQuery</span> <span class="o">=</span> <span class="p">{</span><span class="nx">short_name</span><span class="o">:</span><span class="s2">&#34;yanjiuyanjiu&#34;</span><span class="p">};</span>
      <span class="p">(</span><span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
        <span class="kd">var</span> <span class="nx">ds</span> <span class="o">=</span> <span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
        <span class="nx">ds</span><span class="p">.</span><span class="nx">type</span> <span class="o">=</span> <span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span><span class="nx">ds</span><span class="p">.</span><span class="nx">async</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
        <span class="nx">ds</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="s1">&#39;http://static.duoshuo.com/embed.js&#39;</span><span class="p">;</span>
        <span class="nx">ds</span><span class="p">.</span><span class="nx">charset</span> <span class="o">=</span> <span class="s1">&#39;UTF-8&#39;</span><span class="p">;</span>
        <span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
        <span class="o">||</span> <span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">ds</span><span class="p">);</span>
      <span class="p">})();</span>
    <span class="p">&lt;/</span><span class="nt">script</span><span class="p">&gt;</span>
    <span class="c">&lt;!-- Duoshuo Comment END --&gt;</span>
</code></pre></td></tr></table>
</div>
</div><p>_config.yml 中的配置也略有不同：</p>
<pre><code>duoshuo_comments: true
duoshuo_short_name: yanjiuyanjiu
duoshuo_asides_num: 5      # 侧边栏评论显示条目数
duoshuo_asides_avatars: 1   # 侧边栏评论是否显示头像
duoshuo_asides_time: 1      # 侧边栏评论是否显示时间
duoshuo_asides_title: 1     # 侧边栏评论是否显示标题
duoshuo_asides_admin: 0     # 侧边栏评论是否显示作者评论
duoshuo_asides_length: 32   # 侧边栏评论截取的长度
</code></pre>
<h4 id="添加评论">添加评论</h4>
<ul>
<li>
<p>在 _config.yml 中添加</p>
<pre><code>  # duoshuo comments
  duoshuo_comments: true
  duoshuo_short_name: yourname
</code></pre>
</li>
<li>
<p>在 <code>source/_layouts/post.html</code> 中的<code>disqus</code>代码下方添加 多说评论 模块</p>
<pre><code>  {% if site.duoshuo_short_name and site.duoshuo_comments == true and page.comments == true %}
    &lt;section&gt;
      &lt;h1&gt;Comments&lt;/h1&gt;
      &lt;div id=&quot;comments&quot; aria-live=&quot;polite&quot;&gt;{% include post/duoshuo.html %}&lt;/div&gt;
    &lt;/section&gt;
  {% endif %}
</code></pre>
</li>
</ul>
<p>如果你希望一些单独的页面下方也放置评论功能，譬如 rake new_page[&ldquo;xxx&rdquo;] 产生的页面也能评论，那么请在 source/_layouts/page.html 中也做如上的修改。</p>
<ul>
<li>
<p>然后就按路径创建一个 source/_includes/post/duoshuo.html</p>
<pre><code>  &lt;!-- Duoshuo Comment BEGIN --&gt;
  &lt;div class=&quot;ds-thread&quot; data-title=&quot;{% if site.titlecase %}{{ page.title | titlecase }}{% else %}{{ page.title }}{% endif %}&quot;&gt;&lt;/div&gt;
  &lt;script type=&quot;text/javascript&quot;&gt;
    var duoshuoQuery = {short_name:&quot;{{ site.duoshuo_short_name }}&quot;};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.src = 'http://static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0] 
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  &lt;/script&gt;
  &lt;!-- Duoshuo Comment END --&gt;
</code></pre>
</li>
</ul>
<p>随后，再修改 _includes/article.html 文件，在<code>disqus</code>相关代码下方添加如下代码</p>
<pre><code>     {% if site.duoshuo_short_name and page.comments != false and post.comments != false and site.duoshuo_comments == true %}
      | &lt;a href=&quot;{% if index %}{{ root_url }}{{ post.url }}{% endif %}#comments&quot;&gt;Comments&lt;/a&gt;
     {% endif %}
</code></pre>
<p>当做这些步骤前，要先去多说网注册个帐号，添加站点，获取站点 short_name。</p>
<ul>
<li>
<p>首页侧边栏插入最新评论
首先在 _config.yml 中再插入如下代码</p>
<pre><code>  duoshuo_asides_num: 10      # 侧边栏评论显示条目数
  duoshuo_asides_avatars: 0   # 侧边栏评论是否显示头像
  duoshuo_asides_time: 0      # 侧边栏评论是否显示时间
  duoshuo_asides_title: 0     # 侧边栏评论是否显示标题
  duoshuo_asides_admin: 0     # 侧边栏评论是否显示作者评论
  duoshuo_asides_length: 18   # 侧边栏评论截取的长度
</code></pre>
</li>
</ul>
<p>再创建 _includes/custom/asides/recent_comments.html</p>
<pre><code>    &lt;section&gt;
    &lt;h1&gt;Recent Comments&lt;/h1&gt;
    &lt;ul class=&quot;ds-recent-comments&quot; data-num-items=&quot;{{ site.duoshuo_asides_num }}&quot; data-show-avatars=&quot;{{ site.duoshuo_asides_avatars }}&quot; data-show-time=&quot;{{ site.duoshuo_asides_time }}&quot; data-show-title=&quot;{{ site.duoshuo_asides_title }}&quot; data-show-admin=&quot;{{ site.duoshuo_asides_admin }}&quot; data-excerpt-length=&quot;{{ site.duoshuo_asides_length }}&quot;&gt;&lt;/ul&gt;
    {% if index %}
    &lt;!--多说js加载开始，一个页面只需要加载一次 --&gt;
    &lt;script type=&quot;text/javascript&quot;&gt;
      var duoshuoQuery = {short_name:&quot;{{ site.duoshuo_short_name }}&quot;};
      (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = 'http://static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(ds);
      })();
    &lt;/script&gt;
    &lt;!--多说js加载结束，一个页面只需要加载一次 --&gt;
    {% endif %}
    &lt;/section&gt;
</code></pre>
<p>最后，<code>_config.yml</code> 中的<code>blog_index_asides</code>,<code>page_asides</code>,<code>post_asides</code> 添加<code>custom/asides/recent_comments.html</code></p>
<h3 id="插件">插件</h3>
<h3 id="添加统计代码">添加统计代码</h3>
<p>在_config.yml填入 Google Analytics Tracking ID，例如 UA-7583537-4 。</p>
<h3 id="在新电脑上恢复">在新电脑上恢复</h3>
<p>参考 <a href="http://blog.zerosharp.com/clone-your-octopress-to-blog-from-two-places/">Clone Your Octopress to Blog From Two Places</a> 。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span><span class="lnt">5
</span><span class="lnt">6
</span><span class="lnt">7
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-bash" data-lang="bash">    git clone -b <span class="nb">source</span> <span class="o">(</span>url<span class="o">)</span> octopress   <span class="c1">#把source 克隆到本地octopress目录上</span>
    <span class="nb">cd</span> octopress
    git clone <span class="o">(</span>url<span class="o">)</span> _deploy   <span class="c1">#克隆master分支，它存放着博客内容。</span>
    gem install bundler
    bundle install
    rake install
    rake setup_github_pages
</code></pre></td></tr></table>
</div>
</div><h3 id="参考">参考</h3>
<p><a href="http://shanewfx.github.com/blog/2012/08/13/improve-blog-theme/">Octopress主题改造</a></p>
    </div>

    <div class="post-copyright">
  <p class="copyright-item">
    <span class="item-title">Author</span>
    <span class="item-content">olOwOlo</span>
  </p>
  <p class="copyright-item">
    <span class="item-title">LastMod</span>
    <span class="item-content">
        0001-01-01
        
    </span>
  </p>
  
  
</div>
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/ogre-source-4/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">ogre 源码学习之四(场景管理与渲染队列)</span>
            <span class="prev-text nav-mobile">Prev</span>
          </a>
        <a class="next" href="/post/ogre-source-3/">
            <span class="next-text nav-default">ogre 源码学习之三(资源系统)</span>
            <span class="next-text nav-mobile">Next</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:your@email.com" class="iconfont icon-email" title="email"></a>
      <a href="http://localhost:1313" class="iconfont icon-stack-overflow" title="stack-overflow"></a>
      <a href="http://localhost:1313" class="iconfont icon-twitter" title="twitter"></a>
      <a href="http://localhost:1313" class="iconfont icon-facebook" title="facebook"></a>
      <a href="http://localhost:1313" class="iconfont icon-linkedin" title="linkedin"></a>
      <a href="http://localhost:1313" class="iconfont icon-google" title="google"></a>
      <a href="http://localhost:1313" class="iconfont icon-github" title="github"></a>
      <a href="http://localhost:1313" class="iconfont icon-weibo" title="weibo"></a>
      <a href="http://localhost:1313" class="iconfont icon-zhihu" title="zhihu"></a>
      <a href="http://localhost:1313" class="iconfont icon-douban" title="douban"></a>
      <a href="http://localhost:1313" class="iconfont icon-pocket" title="pocket"></a>
      <a href="http://localhost:1313" class="iconfont icon-tumblr" title="tumblr"></a>
      <a href="http://localhost:1313" class="iconfont icon-instagram" title="instagram"></a>
      <a href="http://localhost:1313" class="iconfont icon-gitlab" title="gitlab"></a>
      <a href="http://localhost:1313" class="iconfont icon-bilibili" title="bilibili"></a>
  <a href="http://localhost:1313/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    Powered by <a class="hexo-link" href="https://gohugo.io">Hugo</a>
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    Theme - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2017 - 
    2020<span class="heart"><i class="iconfont icon-heart"></i></span><span>olOwOlo</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
